{{define "title"}} | Profile{{end}}

{{define "content"}}
<main>
    <section class="wfull center">
        <section class="w3-5 col">
            <h1>Profile</h1>
            <div class="row mb-1">
                <img src="{{.CurrentUser.AvatarURL}}" alt="" class="avatar bigger">
                <div class="col ml-1">
                    <h2>{{.CurrentUser.Username}}</h2>
                </div>
            </div>
            <div class="row center wfull">
                <div id="tabLinks" class="row wfull space-between mt-1 mb-1">
                    {{if eq .TabIndex 1}}
                    <a class="black" href="/profile?index=1">My Posts</a>
                    {{else}}
                    <a href="/profile?index=1">My Posts</a>
                    {{end}}
                    {{if eq .TabIndex 2}}
                    <a class="black" href="/profile?index=2">My Likes</a>
                    {{else}}
                    <a href="/profile?index=2">My Likes</a>
                    {{end}}
                    {{if eq .TabIndex 3}}
                    <a class="black" href="/profile?index=3">My Bookmarks</a>
                    {{else}}
                    <a href="/profile?index=3">My Bookmarks</a>
                    {{end}}
                    {{if eq .TabIndex 4}}
                    <a class="black" href="/profile?index=4">My Activities</a>
                    {{else}}
                    <a href="/profile?index=4">My Activities</a>
                    {{end}}
                    <a href="/edit-user-page">Settings</a>
                </div>
            </div>
            <div class="col wfull mt-1">
                {{if eq .TabIndex 1}}
                {{range .PostsList}}
                <article class="list">
                    <div class="row center">
                        <img class="avatar big mr-1" src="{{ .ImageURL }}" alt="">
                        <div class="col ml-1 new">
                            <h2>{{ .Title }}</h2>
                            <div class="row">
                                <span>{{ .AuthorName }}</span>
                                <span>{{ .LastEditionDate }}</span>
                                <span>{{ .NumberOfComments }} replies</span>
                            </div>
                        </div>
                    </div>
                    <div class="avatars">
                        <button class="alt mr-1">Edit</button>
                        <button class="red">Delete</button>
                    </div>
                </article>
                {{end}}
                {{else if eq .TabIndex 2}}
                {{range .PostsList}}
                <article class="list">
                    <div class="row center">
                        <img class="avatar big mr-1" src="{{ .ImageURL }}" alt="">
                        <div class="col ml-1 new">
                            <h2>{{ .Title }}</h2>
                            <div class="row">
                                <span>{{ .AuthorName }}</span>
                                <span>{{ .LastEditionDate }}</span>
                                <span>{{ .NumberOfComments }} replies</span>
                            </div>
                        </div>
                    </div>
                </article>
                {{end}}
                {{else if eq .TabIndex 3}}
                {{range .PostsList}}
                <article class="list">
                    <div class="row center">
                        <img class="avatar big mr-1" src="{{ .ImageURL }}" alt="">
                        <div class="col ml-1 new">
                            <h2>{{ .Title }}</h2>
                            <div class="row">
                                <span>{{ .AuthorName }}</span>
                                <span>{{ .LastEditionDate }}</span>
                                <span>{{ .NumberOfComments }} replies</span>
                            </div>
                        </div>
                    </div>
                </article>
                {{end}}
                {{else if eq .TabIndex 4}}
                <p>My Activities</p>
                <p>Feature not yet available</p>
                {{end}}
            </div>
        </section>
    </section>
</main>
{{end}}